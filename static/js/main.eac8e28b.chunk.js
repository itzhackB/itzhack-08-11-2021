(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(35),a=n.n(r),i=(n(119),n(120),n(16)),o=n(15),s=n(25),u=n.n(s),l=n(44),d="GET_CURRENT_CITY",h="CURRENT_CITY_WEEK_WEATHER",j="SET_LOCATION",b="ADD_FAVORITE",v="DELETE_FAVORITE",p="ADD_ERROR",f="DELETE_ERROR",O=n(47),x=n.n(O),y="SMWoYBgzohr64Y8FpGTAu6TBnmN8Eg7W",m=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var c,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=").concat(y,"&q=").concat(e));case 2:return c=t.sent,t.next=5,n({type:j,payload:{city:null===c||void 0===c?void 0:c.data[0].LocalizedName,cityKey:c.data[0].Key}});case 5:return r=c.data[0].Key,t.next=8,n(g(r));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(w(e));case 2:return t.next=4,n(E(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat("http://dataservice.accuweather.com/currentconditions/v1/").concat(e,"?apikey=").concat(y));case 2:return c=t.sent,t.next=5,n({type:d,payload:c.data[0]});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},E=function(e){return function(){var t=Object(l.a)(u.a.mark((function t(n){var c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x.a.get("".concat("http://dataservice.accuweather.com/forecasts/v1/daily/5day/").concat(e,"?apikey=").concat(y));case 2:return c=t.sent,t.next=5,n({type:h,payload:c.data.DailyForecasts});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=n(1),N=n(145),T=function(e){var t=e.day,n=Object(o.c)((function(e){return e.weather.current})),c=new Date,r=1e3*t.Date;c.setTime(r);var a=n.IsDayTime?"Day":"Night";return Object(k.jsx)("div",{className:"col-sm-2",children:Object(k.jsxs)("div",{className:"card",children:[Object(k.jsx)("p",{className:"card-title",children:Object(k.jsx)("i",{className:"wi icon-accu".concat(t[a].Icon)})}),Object(k.jsx)("p",{className:"text-muted",children:N(t.Date).format("ddd")}),Object(k.jsxs)("h2",{children:[Math.round(t.Temperature.Minimum.Value)," \xb0F"]}),Object(k.jsx)("div",{className:"card-body",children:Object(k.jsx)("p",{className:"card-text",children:t[a].IconPhrase})})]})})},_=n(200),z=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.weather.weekly})),n=Object(o.c)((function(e){return e.location})),c=Object(o.c)((function(e){return e.weather.current})),r=Object(o.c)((function(e){return e.favorites}));return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h5",{className:"display-5 text-muted",children:n.city}),Object(k.jsx)("h5",{className:"display-5 text-muted",children:c.WeatherText}),r.some((function(e){return e.id===n.cityKey}))?Object(k.jsx)(_.a,{variant:"outlined",onClick:function(){return e((t=n.cityKey,{type:v,payload:t}));var t},children:"Unsubscribe"}):Object(k.jsx)(_.a,{variant:"outlined",onClick:function(){return e((t=n.cityKey,c=n.city,{type:b,payload:{id:t,name:c}}));var t,c},children:"Subscribe"}),Object(k.jsx)("h1",{className:"display-4 jumbotron",children:"5-Day Forecast."}),Object(k.jsx)("div",{className:"row justify-content-center",children:t.map((function(e,t){return Object(k.jsx)(T,{day:e,index:t})}))})]})},D=n(34),S=n(12),C=n(197),I=n(196),R=n(199),A=function(e){var t=Object(o.b)(),n=Object(c.useState)([]),r=Object(S.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(!0),u=Object(S.a)(s,2),l=u[0],d=u[1],h=function(e){var t=e.target.value;/[^A-Za-z]/gi.test(t)?d(!1):(d(!0),fetch("".concat("http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=").concat("SMWoYBgzohr64Y8FpGTAu6TBnmN8Eg7W","&q=").concat(t)).then((function(e){return e.json()})).then((function(e){return i(e)})))};return Object(k.jsxs)("div",{className:"autoComplete",children:[l?"":Object(k.jsx)(R.a,{severity:"error",children:"English letters only."}),Object(k.jsx)(I.a,{id:"free-solo-demo",size:"medium",sx:{width:500},options:null===a||void 0===a?void 0:a.map((function(e){return e.LocalizedName})),onChange:function(e,n){return t(m(n))},renderInput:function(e){return Object(c.createElement)(C.a,Object(D.a)(Object(D.a)({onChange:h},e),{},{label:"Search city",key:e.Key}))}})]})},F=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.weather}));null===t||void 0===t||t.current[0];return Object(c.useEffect)((function(){e(m("Tel aviv"))}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)(A,{}),Object(k.jsx)(z,{})]})};function W(e){var t,n,c,r=2;for("undefined"!==typeof Symbol&&(n=Symbol.asyncIterator,c=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(c&&null!=(t=e[c]))return new K(t.call(e));n="@@asyncIterator",c="@@iterator"}throw new TypeError("Object is not async iterable")}function K(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return K=function(e){this.s=e,this.n=e.next},K.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new K(e)}var L=function(){Object(o.b)();var e=Object(o.c)((function(e){return e.favorites})),t=Object(c.useState)([]),n=Object(S.a)(t,2),r=n[0],a=n[1],i=[];Object(c.useEffect)((function(){s()}),[]);var s=function(){var t=Object(l.a)(u.a.mark((function t(){var n,c,r,o,s,l,d,h,j;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="http://dataservice.accuweather.com/currentconditions/v1/",c="SMWoYBgzohr64Y8FpGTAu6TBnmN8Eg7W",r=!1,o=!1,t.prev=4,l=W(e);case 6:return t.next=8,l.next();case 8:if(!(r=!(d=t.sent).done)){t.next=17;break}return h=d.value,t.next=12,x.a.get("".concat(n).concat(h.id,"?apikey=").concat(c));case 12:j=t.sent,i[h.id]=j.data[0];case 14:r=!1,t.next=6;break;case 17:t.next=23;break;case 19:t.prev=19,t.t0=t.catch(4),o=!0,s=t.t0;case 23:if(t.prev=23,t.prev=24,!r||null==l.return){t.next=28;break}return t.next=28,l.return();case 28:if(t.prev=28,!o){t.next=31;break}throw s;case 31:return t.finish(28);case 32:return t.finish(23);case 33:a(i);case 34:case"end":return t.stop()}}),t,null,[[4,19,23,33],[24,,28,32]])})));return function(){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:"Favorites"}),Object(k.jsx)("div",{className:"favoritesContainer",children:e.map((function(e,t){var n,c;return Object(k.jsxs)("div",{className:"favoritesItem",children:[Object(k.jsx)("p",{children:e.name}),Object(k.jsx)("p",{children:null===(n=r[e.id])||void 0===n?void 0:n.WeatherText}),Object(k.jsx)("p",{children:null===(c=r[e.id])||void 0===c?void 0:c.Temperature.Metric.Value}),Object(k.jsx)("button",{onClick:function(){return console.log(r)},children:"Remove Favorite"})]},t)}))})]})},B=n(53),P=n.n(B),V=!P.a.env.NODE_ENV||"development"===P.a.env.NODE_ENV;function Y(){return console.log(V),V}var M=function(){return Object(k.jsxs)(i.c,{children:[Y()?Object(k.jsx)(i.a,{path:"/itzhack-08-11-2021",exact:!0,component:F}):Object(k.jsx)(i.a,{path:"https://itzhackb.github.io/itzhack-08-11-2021/#/",exact:!0,component:F}),Y()?Object(k.jsx)(i.a,{path:"/itzhack-08-11-2021/favorites",component:L}):Object(k.jsx)(i.a,{path:"https://itzhackb.github.io/itzhack-08-11-2021/#/favorites",component:L})]})},U=n(43),G=n(82),X=n(83),q=function(){var e=Object(o.c)((function(e){return e.favorites}));return Object(k.jsxs)("div",{className:"headerContainer",children:[Y()?Object(k.jsx)(U.b,{to:"/itzhack-08-11-2021",children:Object(k.jsx)("h3",{children:"Weather App"})}):Object(k.jsx)(U.b,{to:"https://itzhackb.github.io/itzhack-08-11-2021/#/",children:Object(k.jsx)("h3",{children:"Weather App"})}),Y()?Object(k.jsxs)(U.b,{to:"/itzhack-08-11-2021/favorites",children:[Object(k.jsx)(G.a,{icon:X.a,size:"2x",style:{color:"red"}}),Object(k.jsx)("div",{style:{color:"red"},children:e.length})]}):Object(k.jsxs)(U.b,{to:"https://itzhackb.github.io/itzhack-08-11-2021/#/favorites",children:[Object(k.jsx)(G.a,{icon:X.a,size:"2x",style:{color:"red"}}),Object(k.jsx)("div",{style:{color:"red"},children:e.length})]})]})},J=n(51);var H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:{},weekly:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(D.a)(Object(D.a)({},e),{},{current:t.payload});case h:return Object(D.a)(Object(D.a)({},e),{},{weekly:t.payload});default:return e}},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===j?t.payload:e},Q=n(17),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return[].concat(Object(Q.a)(e),[t.payload]);case v:return e.filter((function(e){return e.id!==t.payload}));default:return e}},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t){case p:return[].concat(Object(Q.a)(e),[t.payload]);case f:return void(e=[]);default:return e}},te=Object(J.b)({weather:H,location:Z,favorites:$,errors:ee}),ne=[n(100).a],ce=Object(J.d)(te,{},Object(J.c)(J.a.apply(void 0,ne),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));var re=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(t){return e((n=t.coords.latitude,c=t.coords.longitude,function(){var e=Object(l.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.a.get("".concat("http://dataservice.accuweather.com/locations/v1/cities/geoposition/search?","apikey=").concat(y,"&q=").concat(n,",").concat(c));case 2:return r=e.sent,console.log(r),e.next=6,t({type:j,payload:{city:r.data.LocalizedName,cityKey:r.data.Key}});case 6:return a=r.data.Key,e.next=9,t(g(a));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n,c}),(function(t){e(m("Tel Aviv"))})),function(e){try{var t=JSON.stringify(e);localStorage.setItem("favorites",t)}catch(n){throw n}}(ce.getState.favorites),e(m("Tel aviv")),console.log("/itzhack-08-11-2021")}),[]),Object(k.jsxs)("div",{className:"App",children:[Object(k.jsx)(q,{}),Object(k.jsx)(M,{})]})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,203)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};a.a.render(Object(k.jsx)(o.a,{store:ce,children:Object(k.jsx)(U.a,{children:Object(k.jsx)(re,{})})}),document.getElementById("root")),ae()}},[[155,1,2]]]);
//# sourceMappingURL=main.eac8e28b.chunk.js.map